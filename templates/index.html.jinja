<!DOCTYPE html>
<html>
<head>
    <title>WeScheme</title>

    <link rel="icon" href="/static/img/favicon.ico">

    <meta name="referrer" content="no-referrer-when-downgrade">

    <script src="/node_modules/google-closure-library/closure/goog/base.js"></script>

    <!-- JQuery -->
    <script src="/static/js/jquery/jquery-1.3.2-min.js" type="text/javascript"></script>
    <script src="/static/js/jquery/jquery-ui-1.7.3.custom.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="/static/css/jquery-ui.css"/>

    <!-- The splash screen JavaScript libraries. -->
    <script src="/static/js/splash-calc-min.js" type="text/javascript"></script>

    <link rel="stylesheet" type="text/css" href="/static/css/common.css" />
    <link rel="stylesheet" type="text/css" href="/static/css/splash.css" id="style" />
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <style>
        #loginButton { margin:  -1px; }
    </style>

    <script>
        var onOpenEditor = function() {
            window.location='/openEditor';
        };

        var onMyPrograms = function() {
            window.location='/console';
        };

        var onLogout = function() {
            if(confirm("You will be logged out of WeScheme and other Google services.")) {
                window.location='/logout';
            }
        };

        function assignHandlers() {
            $("#startCoding").click(onOpenEditor);
            $("#logoutButton").click(onLogout);
            $("#myPrograms").click(onMyPrograms);
        }
    </script>
</head>

<body onload="assignHandlers();">
<header><h1>WeScheme</h1></header>

<main>

    {% if logged_in %}
        <div id="loggedInWrapper">
            <a class="button" id="myPrograms" aria-describedby="myProgramsDescription" href="javascript: void(0)">My Programs
                <span class="tooltip" id="myProgramsDescription">...see and manage my programs</span>
            </a>

            <img src="/static/img/BigLogo.png" alt="">

            <a class="button" id="logoutButton" href="javascript: void(0)">Log Out
                 <span class="tooltip" id="loginDescription">...of all Google services</span>
            </a>
        </div>

    {% else %}
        <div id="loggedOutWrapper">
            <a class="button" id="startCoding" aria-describedby="startCodingDescription" href="openEditor">Start Coding
                <span class="tooltip" id="startCodingDescription">...without being able to save</span>
            </a>

            <img src="/static/img/BigLogo.png" alt="">

            <a class="button" id="loginButton" aria-describedby="loginDescription" href="javascript: void(0)">
                <span class="tooltip" id="loginDescription">...to access your programs</span>

                <div id="g_id_onload"
                    data-client_id="239382796313-gr5fodbdqpb7uotgpffrdelkgna1gqel.apps.googleusercontent.com"
                    data-context="signin"
                    data-ux_mode="redirect"
                    data-login_uri="http://localhost:8080/login"
                    data-nonce=""
                    data-auto_prompt="false">
                </div>

                <div class="g_id_signin"
                    data-type="standard"
                    data-shape="rectangular"
                    data-theme="outline"
                    data-text="signin_with"
                    data-size="large"
                    data-logo_alignment="left">
                </div>
            </a>
        </div>
    {% endif %}


    <div id="links">
        <a href="http://www.BootstrapWorld.org">Looking for a curriculum, too?</a>
    </div>
</main>

{% include "footer.html" %}

</body>
</html>
